@using System.Web.Optimization
@using System.Web.Optimization.RequireJs
@using AspNetBundling
@{
    BundleTable.EnableOptimizations = false;
    var bundles = BundleTable.Bundles;
    
    //Setup RequireJs
    RequireJs.SetBaseUrl("~/scripts");
    
    bundles.Add(new StyleBundle("~/bundles/styles")
        .Include("~/content/css/jquery.dataTables.css")
        .Include("~/content/css/main.css"));
    
    //We can't use already minified files =(
    bundles.Add(new ScriptWithSourceMapBundle("~/bundles/requireJs")
        .Include("~/scripts/jquery-{version}.js", new RequireModule("jquery"))
        .Include("~/scripts/domReady.js", new RequireModule("domReady"))
        .Include("~/scripts/text.js", new RequireModule("text"))
        .Include("~/scripts/knockout-{version}.js", new RequireModule("knockout"))
        .Include("~/scripts/underscore.js", new RequireModule("underscore"))
        .IncludeModuleDirectory("~/scripts/components/")
    );
}